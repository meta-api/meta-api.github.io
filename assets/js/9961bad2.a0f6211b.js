"use strict";(self.webpackChunkmeta_api_docs=self.webpackChunkmeta_api_docs||[]).push([[733],{3905:function(e,t,a){a.d(t,{Zo:function(){return p},kt:function(){return m}});var n=a(7294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function l(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var s=n.createContext({}),c=function(e){var t=n.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},p=function(e){var t=c(e.components);return n.createElement(s.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},d=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,o=e.originalType,s=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),d=c(a),m=r,g=d["".concat(s,".").concat(m)]||d[m]||u[m]||o;return a?n.createElement(g,i(i({ref:t},p),{},{components:a})):n.createElement(g,i({ref:t},p))}));function m(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=a.length,i=new Array(o);i[0]=d;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:r,i[1]=l;for(var c=2;c<o;c++)i[c]=a[c];return n.createElement.apply(null,i)}return n.createElement.apply(null,a)}d.displayName="MDXCreateElement"},479:function(e,t,a){a.r(t),a.d(t,{assets:function(){return p},contentTitle:function(){return s},default:function(){return m},frontMatter:function(){return l},metadata:function(){return c},toc:function(){return u}});var n=a(7462),r=a(3366),o=(a(7294),a(3905)),i=["components"],l={id:"meta-storage",title:"Meta Storage, a key-value storage directly inside the Spell"},s=void 0,c={unversionedId:"spell-interface/meta-storage",id:"spell-interface/meta-storage",title:"Meta Storage, a key-value storage directly inside the Spell",description:"Description and examples",source:"@site/docs/spell-interface/4-meta-storage.md",sourceDirName:"spell-interface",slug:"/spell-interface/meta-storage",permalink:"/docs/spell-interface/meta-storage",tags:[],version:"current",sidebarPosition:4,frontMatter:{id:"meta-storage",title:"Meta Storage, a key-value storage directly inside the Spell"},sidebar:"mySidebar",previous:{title:"Testing Spells",permalink:"/docs/spell-interface/testing"},next:{title:"Advanced data manipulation and snippets",permalink:"/docs/spell-interface/how-to"}},p={},u=[{value:"Description and examples",id:"description-and-examples",level:2},{value:"How to use it",id:"how-to-use-it",level:2},{value:"Set a key",id:"set-a-key",level:3},{value:"Get a key",id:"get-a-key",level:3},{value:"Delete a key",id:"delete-a-key",level:3},{value:"See the content of your storage",id:"see-the-content-of-your-storage",level:2}],d={toc:u};function m(e){var t=e.components,l=(0,r.Z)(e,i);return(0,o.kt)("wrapper",(0,n.Z)({},d,l,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h2",{id:"description-and-examples"},"Description and examples"),(0,o.kt)("p",null,"Meta Storage is a key/value database integrated inside your Spells. You can set, retrieve and share values between Spells and executions."),(0,o.kt)("p",null,"It's a great way to share data between Spells or to synchronize and keep a state between each execution."),(0,o.kt)("p",null,"For example, we love when we are synchronizing two services, like Pipedrive (a CRM) and Airtable (a spreadsheet). With Meta Storage, we can store the last synchronization date and the last ID to limit requests done to the services."),(0,o.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"Your Meta Storage database is limited to ",(0,o.kt)("strong",{parentName:"p"},"16 Mo")," of storage. If you need more storage capacity, you can use databases as API like Google Spreadsheet or Airtable (with our connectors) or use a regular ",(0,o.kt)("a",{parentName:"p",href:"/docs/connectors/connect-to-databases"},"MySQL / NoSQL database"),"."))),(0,o.kt)("h2",{id:"how-to-use-it"},"How to use it"),(0,o.kt)("h3",{id:"set-a-key"},"Set a key"),(0,o.kt)("p",null,"You can set a new key and value using the following syntax:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-javascript"},"await metaStorage.set(key, value)\n")),(0,o.kt)("p",null,'Example to set the value "harry" to key "wizard":'),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-javascript"},'await metaStorage.set("wizard", "harry")\n')),(0,o.kt)("p",null,"You can store ",(0,o.kt)("inlineCode",{parentName:"p"},"value"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"object")," or ",(0,o.kt)("inlineCode",{parentName:"p"},"array")," inside any key."),(0,o.kt)("h3",{id:"get-a-key"},"Get a key"),(0,o.kt)("p",null,"You can retrieve a value associated to a key using the following syntax:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-javascript"},"await metaStorage.get(key)\n")),(0,o.kt)("p",null,'Example to get the value of key "wizard":'),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-javascript"},'const myValue = await metaStorage.get("wizard") //Will contain "harry"\n')),(0,o.kt)("h3",{id:"delete-a-key"},"Delete a key"),(0,o.kt)("p",null,"You can delete a key using the following syntax:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-javascript"},"await metaStorage.delete(key)\n")),(0,o.kt)("p",null,'Example to delete the key "wizard":'),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-javascript"},'await metaStorage.delete("wizard")\n')),(0,o.kt)("h2",{id:"see-the-content-of-your-storage"},"See the content of your storage"),(0,o.kt)("p",null,"You can see, at any time, the content of your storage here on your Spell edition page:"),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"Meta Storage interface",src:a(9283).Z,width:"1920",height:"955"})))}m.isMDXComponent=!0},9283:function(e,t,a){t.Z=a.p+"assets/images/meta-storage-button-9ce57c0331b39b2d552b49e342b58a56.png"}}]);