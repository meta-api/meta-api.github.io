"use strict";(self.webpackChunkmeta_api_docs=self.webpackChunkmeta_api_docs||[]).push([[103],{3905:function(e,t,n){n.d(t,{Zo:function(){return d},kt:function(){return h}});var o=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){if(null==e)return{};var n,o,a=function(e,t){if(null==e)return{};var n,o,a={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var l=o.createContext({}),s=function(e){var t=o.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):r(r({},t),e)),n},d=function(e){var t=s(e.components);return o.createElement(l.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},u=o.forwardRef((function(e,t){var n=e.components,a=e.mdxType,i=e.originalType,l=e.parentName,d=c(e,["components","mdxType","originalType","parentName"]),u=s(n),h=a,f=u["".concat(l,".").concat(h)]||u[h]||p[h]||i;return n?o.createElement(f,r(r({ref:t},d),{},{components:n})):o.createElement(f,r({ref:t},d))}));function h(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=n.length,r=new Array(i);r[0]=u;var c={};for(var l in t)hasOwnProperty.call(t,l)&&(c[l]=t[l]);c.originalType=e,c.mdxType="string"==typeof e?e:a,r[1]=c;for(var s=2;s<i;s++)r[s]=n[s];return o.createElement.apply(null,r)}return o.createElement.apply(null,n)}u.displayName="MDXCreateElement"},4614:function(e,t,n){n.r(t),n.d(t,{assets:function(){return d},contentTitle:function(){return l},default:function(){return h},frontMatter:function(){return c},metadata:function(){return s},toc:function(){return p}});var o=n(7462),a=n(3366),i=(n(7294),n(3905)),r=["components"],c={id:"add-config-connectors",title:"Add and configure connectors"},l=void 0,s={unversionedId:"spell/building-spell/add-config-connectors",id:"spell/building-spell/add-config-connectors",title:"Add and configure connectors",description:"Configure connector's parameters",source:"@site/docs/spell/building-spell/2-add-config-connectors.md",sourceDirName:"spell/building-spell",slug:"/spell/building-spell/add-config-connectors",permalink:"/docs/spell/building-spell/add-config-connectors",draft:!1,tags:[],version:"current",sidebarPosition:2,frontMatter:{id:"add-config-connectors",title:"Add and configure connectors"},sidebar:"mySidebar",previous:{title:"Structure of the code editor",permalink:"/docs/spell/building-spell/code-editor"},next:{title:"Working with connector value",permalink:"/docs/spell/building-spell/working-connector-value"}},d={},p=[{value:"Configure connector&#39;s parameters",id:"configure-connectors-parameters",level:2},{value:"Working with a body",id:"working-with-a-body",level:2},{value:"Add another connector on Spell",id:"add-another-connector-on-spell",level:2},{value:"Open connector Manager",id:"open-connector-manager",level:3},{value:"Copy code&#39;s connector to the editor",id:"copy-codes-connector-to-the-editor",level:3},{value:"Working with test values and mocking requests",id:"working-with-test-values-and-mocking-requests",level:2},{value:"Fake requests (test values)",id:"fake-requests-test-values",level:3},{value:"Mock (cache) requests",id:"mock-cache-requests",level:3},{value:"Test values&#39; indicator",id:"test-values-indicator",level:3}],u={toc:p};function h(e){var t=e.components,c=(0,a.Z)(e,r);return(0,i.kt)("wrapper",(0,o.Z)({},u,c,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h2",{id:"configure-connectors-parameters"},"Configure connector's parameters"),(0,i.kt)("p",null,"To configure connector's parameters, select a connector inside the left menu."),(0,i.kt)("p",null,"Inside the panel on the right, you'll see all the parameters available inside this connector:"),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"Spell connector detail",src:n(9662).Z,width:"1920",height:"1079"})),(0,i.kt)("admonition",{type:"info"},(0,i.kt)("p",{parentName:"admonition"},"Before configuring a connector, you should authenticate first (",(0,i.kt)("a",{parentName:"p",href:"/docs/api-authentication/create-auth/authenticate-spell"},"click here and follow those steps to know how"),")."),(0,i.kt)("p",{parentName:"admonition"},"We also provide a solution to faking (and mocking) requests, check it out ",(0,i.kt)("a",{parentName:"p",href:"#fake-and-mock-requests"},"here"),"!")),(0,i.kt)("p",null,"You can set any value you want inside each input, and you'll find precision about the ",(0,i.kt)("em",{parentName:"p"},"type")," of each parameter and a description (if configured)."),(0,i.kt)("p",null,"Some parameters are required, others optional. You can run your Spell even if you didn't fill required parameters, but you should expect some errors..."),(0,i.kt)("h2",{id:"working-with-a-body"},"Working with a body"),(0,i.kt)("p",null,"When you are working with POST requests for example, you'll have to send a body."),(0,i.kt)("p",null,"A body is configured directly inside your code editor, like this:"),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"Connector body",src:n(736).Z,width:"1919",height:"1079"})),(0,i.kt)("p",null,"The body is set up directly inside the connector's code, and you'll have (if available) code autocompletion when you'll write this body."),(0,i.kt)("p",null,"The body's schema can be found the right panel when the connector is selected."),(0,i.kt)("admonition",{type:"info"},(0,i.kt)("p",{parentName:"admonition"},"If you want to disable type checking for the body, replace ",(0,i.kt)("inlineCode",{parentName:"p"},"as Body...")," at the end of the code snippet by ",(0,i.kt)("inlineCode",{parentName:"p"},"as any"),".",(0,i.kt)("br",{parentName:"p"}),"\n","Example with the screenshot: you'll have to replace ",(0,i.kt)("inlineCode",{parentName:"p"},"as Bodypostbaseidbasename")," by ",(0,i.kt)("inlineCode",{parentName:"p"},"as any"),".")),(0,i.kt)("h2",{id:"add-another-connector-on-spell"},"Add another connector on Spell"),(0,i.kt)("h3",{id:"open-connector-manager"},"Open connector Manager"),(0,i.kt)("p",null,"To add another connector inside your Spell, click on the ",(0,i.kt)("strong",{parentName:"p"},"+ Add a connector")," button inside the left menu."),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"Add connector",src:n(430).Z,width:"1918",height:"1079"})),(0,i.kt)("p",null,"A popup will appear to let you choose an API and an endpoint."),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"Choose API",src:n(415).Z,width:"1919",height:"1079"})),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"Choose endpoint",src:n(1804).Z,width:"1919",height:"1078"})),(0,i.kt)("p",null,"You'll see all endpoint details. Click on the ",(0,i.kt)("strong",{parentName:"p"},"Add xxx")," button to add this connector to your Spell."),(0,i.kt)("h3",{id:"copy-codes-connector-to-the-editor"},"Copy code's connector to the editor"),(0,i.kt)("p",null,"To use a connector and configure it, you must add its code inside your Spell. A message, in the detail panel, will indicate you to copy and paste the connector's code where you want inside your Spell. Click on the ",(0,i.kt)("strong",{parentName:"p"},"Copy the code")," button and paste it inside your code."),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"Copy connector&#39;s code",src:n(9041).Z,width:"1919",height:"1078"})),(0,i.kt)("p",null,"The message will disappear, and now you can configure your connector:"),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"Code connector copied",src:n(6408).Z,width:"1918",height:"1079"})),(0,i.kt)("admonition",{type:"info"},(0,i.kt)("p",{parentName:"admonition"},"If you are using multiple endpoint on the same APIs, many variables will have the same name. You can safely rename them."),(0,i.kt)("p",{parentName:"admonition"},"Example: this standard Airtable code snippet"),(0,i.kt)("pre",{parentName:"admonition"},(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},'//#region Start of Airtable connector\nconst airtableResult: Datagetbaseidbasename = await connectorService.config(\n  "62b7363ed54c127d638c4d70",\n  {}\n);\nconsole.info({ Airtable: airtableResult });\n//#endregion End of Airtable connector\n')),(0,i.kt)("p",{parentName:"admonition"},"can be renamed:"),(0,i.kt)("pre",{parentName:"admonition"},(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},'//#region Start of Airtable connector\nconst myUsers: Datagetbaseidbasename = await connectorService.config(\n  "62b7363ed54c127d638c4d70",\n  {}\n);\nconsole.info({ Airtable: myUsers });\n//#endregion End of Airtable connector\n'))),(0,i.kt)("h2",{id:"working-with-test-values-and-mocking-requests"},"Working with test values and mocking requests"),(0,i.kt)("h3",{id:"fake-requests-test-values"},"Fake requests (test values)"),(0,i.kt)("p",null,"If you don't have an authentication or just want to test a connector without to create the ",(0,i.kt)("a",{parentName:"p",href:"/docs/api-authentication/create-auth/authenticate-spell"},"authentication"),", you have the possibility to faking connector's request."),(0,i.kt)("p",null,"When available, the connector will return a fake response based on its example or schema. You'll be able to ",(0,i.kt)("a",{parentName:"p",href:"/docs/spell/building-spell/working-connector-value"},"work with these data like real ones")," and authenticate later."),(0,i.kt)("p",null,"This allows to build spell logic quickly without worrying about connector's configuration."),(0,i.kt)("p",null,"To enable fake requests, activate it on the connector's panel detail at the top:\n",(0,i.kt)("img",{alt:"Enable fake request",src:n(4990).Z,width:"1170",height:"1732"})),(0,i.kt)("admonition",{type:"warning"},(0,i.kt)("p",{parentName:"admonition"},"When ",(0,i.kt)("a",{parentName:"p",href:"/docs/spell/using-spell/publish-spell-production"},"pushing in production"),", fake requests functionality will be inactive. Be sure to authenticate before pushing your Spell in production.")),(0,i.kt)("h3",{id:"mock-cache-requests"},"Mock (cache) requests"),(0,i.kt)("p",null,"When developing a Spell, you have the possibility to store real value and use this result during your development period, saving you the extra cost of some APIs."),(0,i.kt)("p",null,"By activating the mock request functionality, it will cache the next successful request and use it afterwards."),(0,i.kt)("admonition",{type:"warning"},(0,i.kt)("p",{parentName:"admonition"},"In order to work, you must set all required parameters of the connector and have a valid ",(0,i.kt)("a",{parentName:"p",href:"/docs/api-authentication/create-auth/authenticate-spell"},"authentication"),".")),(0,i.kt)("p",null,"To work with mock requests, activate it on the connector's panel detail at the top (Working with test value must be enabled):"),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"Working with mock request",src:n(4433).Z,width:"1138",height:"1734"})),(0,i.kt)("admonition",{type:"info"},(0,i.kt)("p",{parentName:"admonition"},"When ",(0,i.kt)("a",{parentName:"p",href:"/docs/spell/using-spell/publish-spell-production"},"pushing in production"),", mock requests functionality will be inactive making real request each time.")),(0,i.kt)("h3",{id:"test-values-indicator"},"Test values' indicator"),(0,i.kt)("p",null,"You can know at a glance which connector is working with test value. They're represented by a violet glow on the list and by a card in the Activity panel:"),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"Test values&#39; indicators",src:n(7826).Z,width:"3580",height:"888"})))}h.isMDXComponent=!0},430:function(e,t,n){t.Z=n.p+"assets/images/add-connector-4cdbc830548878178b5ab3c40687c489.jpg"},415:function(e,t,n){t.Z=n.p+"assets/images/choose-api-31fb4188823ad454e6f74aa16f4706fc.jpg"},1804:function(e,t,n){t.Z=n.p+"assets/images/choose-endpoint-a1ce76a95dc7fa82d41cc34334d0e3ce.jpg"},6408:function(e,t,n){t.Z=n.p+"assets/images/code-connector-copied-3976bf5174e74017855b0017aaa491f9.jpg"},736:function(e,t,n){t.Z=n.p+"assets/images/connector-body-2ff7abd58ff8447d6cf1a8962e2dd0dc.jpg"},9041:function(e,t,n){t.Z=n.p+"assets/images/copy-connector-code-dd83b4688d0619c638a35445ba235e61.jpg"},4433:function(e,t,n){t.Z=n.p+"assets/images/enable-cache-request-9380752c632e5dfc157ef8c53a099f30.png"},4990:function(e,t,n){t.Z=n.p+"assets/images/enable-fake-request-8f5fd0b19bf33e0b1c68d31e218b0fd9.png"},9662:function(e,t,n){t.Z=n.p+"assets/images/spell-connector-detail-a642e5fe347a12ad61c73ed9ca74e1cb.jpg"},7826:function(e,t,n){t.Z=n.p+"assets/images/test-values-indicator-1850ceea76f4bd6470fb667dbcf1a5c9.png"}}]);