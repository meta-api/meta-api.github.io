"use strict";(self.webpackChunkmeta_api_docs=self.webpackChunkmeta_api_docs||[]).push([[354],{3905:function(e,t,n){n.d(t,{Zo:function(){return c},kt:function(){return h}});var a=n(7294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var p=a.createContext({}),s=function(e){var t=a.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},c=function(e){var t=s(e.components);return a.createElement(p.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var n=e.components,o=e.mdxType,r=e.originalType,p=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),m=s(n),h=o,u=m["".concat(p,".").concat(h)]||m[h]||d[h]||r;return n?a.createElement(u,i(i({ref:t},c),{},{components:n})):a.createElement(u,i({ref:t},c))}));function h(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var r=n.length,i=new Array(r);i[0]=m;var l={};for(var p in t)hasOwnProperty.call(t,p)&&(l[p]=t[p]);l.originalType=e,l.mdxType="string"==typeof e?e:o,i[1]=l;for(var s=2;s<r;s++)i[s]=n[s];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},263:function(e,t,n){n.r(t),n.d(t,{frontMatter:function(){return i},contentTitle:function(){return l},metadata:function(){return p},toc:function(){return s},default:function(){return d}});var a=n(7462),o=n(3366),r=(n(7294),n(3905)),i={id:"example-hello-world",title:"Example: A gif from a movie"},l=void 0,p={unversionedId:"getting-started/example-hello-world",id:"getting-started/example-hello-world",isDocsHomePage:!1,title:"Example: A gif from a movie",description:"In this part, we'll guide you to build a Spell. The objectives of it will be to retrieve a popular movie from TMDB then to get a gif from Giphy associated from the title and send it to Slack channel.",source:"@site/docs/getting-started/example-hello-world.md",sourceDirName:"getting-started",slug:"/getting-started/example-hello-world",permalink:"/docs/getting-started/example-hello-world",version:"current",frontMatter:{id:"example-hello-world",title:"Example: A gif from a movie"},sidebar:"mySidebar",previous:{title:"Quick Start",permalink:"/docs/getting-started/quick-start"},next:{title:"Advanced data manipulation and snippets",permalink:"/docs/spell-interface/how-to"}},s=[{value:"Create the Spell",id:"create-the-spell",children:[]},{value:"Create the Spell workflow",id:"create-the-spell-workflow",children:[{value:"Add TMDB",id:"add-tmdb",children:[]},{value:"Configure TMDB authentication",id:"configure-tmdb-authentication",children:[]},{value:"Add GIPHY",id:"add-giphy",children:[]},{value:"Configure GIPHY authentication",id:"configure-giphy-authentication",children:[]},{value:"Linked TMDB and Giphy: retrieve a Gif from the movie&#39;s name",id:"linked-tmdb-and-giphy-retrieve-a-gif-from-the-movies-name",children:[]},{value:"Add Slack",id:"add-slack",children:[]},{value:"Configure Slack OAuth authentication",id:"configure-slack-oauth-authentication",children:[]},{value:"Linked Slack to the Spell: send gif and movie&#39;s information to a Slack channel",id:"linked-slack-to-the-spell-send-gif-and-movies-information-to-a-slack-channel",children:[]}]},{value:"Deploy your Spell in production",id:"deploy-your-spell-in-production",children:[]},{value:"Restrict access to your Spell",id:"restrict-access-to-your-spell",children:[]},{value:"Be creative!",id:"be-creative",children:[]}],c={toc:s};function d(e){var t=e.components,i=(0,o.Z)(e,["components"]);return(0,r.kt)("wrapper",(0,a.Z)({},c,i,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"In this part, we'll guide you to build a Spell. The objectives of it will be to retrieve a popular movie from ",(0,r.kt)("a",{parentName:"p",href:"https://www.themoviedb.org"},(0,r.kt)("strong",{parentName:"a"},"TMDB"))," then to get a gif from ",(0,r.kt)("a",{parentName:"p",href:"https://giphy.com"},(0,r.kt)("strong",{parentName:"a"},"Giphy"))," associated from the title and send it to ",(0,r.kt)("a",{parentName:"p",href:"https://slack.com"},(0,r.kt)("strong",{parentName:"a"},"Slack"))," channel."),(0,r.kt)("h2",{id:"create-the-spell"},"Create the Spell"),(0,r.kt)("p",null,"First of all, we will create a new Spell. Go to your ",(0,r.kt)("a",{parentName:"p",href:"https://dashboard.meta-api.io/spells"},"list of Spells")," and click on the ",(0,r.kt)("strong",{parentName:"p"},"Create a new Spell")," button and fill out the form that appears like so for the name:"),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},(0,r.kt)("strong",{parentName:"p"},"A gif from a movie"))),(0,r.kt)("p",null,"And for the description:"),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},(0,r.kt)("strong",{parentName:"p"},"This Spell take the most popular movie from TMDB and fetch a gif from Giphy. It then sends it to a Slack channel with the gif and information of the movie."))),(0,r.kt)("p",null,"Then click ",(0,r.kt)("strong",{parentName:"p"},"Create")," and you will redirected to the Spell's editor interface. It should look like this:\n",(0,r.kt)("img",{alt:"Spell anatomy",src:n(8948).Z})),(0,r.kt)("h2",{id:"create-the-spell-workflow"},"Create the Spell workflow"),(0,r.kt)("p",null,"As said in the introduction, we will use ",(0,r.kt)("strong",{parentName:"p"},"TMDB")," to retrieve a popular movie, then ",(0,r.kt)("strong",{parentName:"p"},"Giphy")," to search a gif related to it and will send to a ",(0,r.kt)("strong",{parentName:"p"},"Slack")," channel."),(0,r.kt)("h3",{id:"add-tmdb"},"Add TMDB"),(0,r.kt)("p",null,"Click on the ",(0,r.kt)("strong",{parentName:"p"},"Add a Connector")," button, a new modal appears and show you the API catalog of Meta-API that you have access."),(0,r.kt)("p",null,"Search for ",(0,r.kt)("strong",{parentName:"p"},"TMDB")," in the input field and click on the card that is named ",(0,r.kt)("strong",{parentName:"p"},"TMDB"),".",(0,r.kt)("br",{parentName:"p"}),"\n","Here, you'll have all the Connectors (API endpoints) available for this API.\nEach Connector is grouped by the URL (ex: ",(0,r.kt)("inlineCode",{parentName:"p"},"/movie/popular"),") and you will see the ",(0,r.kt)("inlineCode",{parentName:"p"},"GET"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"POST"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"PUT/PATCH")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"DELETE")," action if available."),(0,r.kt)("p",null,"Now search for ",(0,r.kt)("strong",{parentName:"p"},"movie popular")," and click on the ",(0,r.kt)("strong",{parentName:"p"},"Get Popular"),", the URL is: ",(0,r.kt)("inlineCode",{parentName:"p"},"/movie/popular"),".",(0,r.kt)("br",{parentName:"p"}),"\n","The third panel shows you a quick summary of the endpoint: if you need an authentication; the differents parameters; the response sample; and the response schema."),(0,r.kt)("p",null,"Click on ",(0,r.kt)("strong",{parentName:"p"},"Add a Connector")," and now the Connector for popular movie on ",(0,r.kt)("strong",{parentName:"p"},"TMDB")," is now linked to the Spell."),(0,r.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"Note the blue notification on the top right corner. For convenience, the code of the Connector have been automaticaly copy to your clipboard."),(0,r.kt)("p",{parentName:"div"},'Don\'t worry, you can still copy/past the code after by clicking "Copy the code" on the list of Connectors.'))),(0,r.kt)("p",null,"Paste the code on the code editor on the right panel (you can replace all of the code previously generate) and add a return statement: ",(0,r.kt)("inlineCode",{parentName:"p"},"return tmdbResult"),".",(0,r.kt)("br",{parentName:"p"}),"\n","Now the editor should look like this:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},'/* Start of TMDB connector */\nconst tmdbResult: Datagetmoviepopular = await connectorService.config(\n  "6064463e0524b4ef5fc98f38",\n  {}\n);\n/* End of TMDB connector */\n\nreturn tmdbResult;\n')),(0,r.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"The id ",(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("inlineCode",{parentName:"strong"},"6064463e0524b4ef5fc98f38"))," is generate automaticaly and won't be the same for you. This identifier is important and should correspond to your Connector's id, otherwise the Spell can execute the request.",(0,r.kt)("br",{parentName:"p"}),"\n","You can retrieve the id on the Connector detail's panel on the left by click on it."))),(0,r.kt)("h3",{id:"configure-tmdb-authentication"},"Configure TMDB authentication"),(0,r.kt)("p",null,"The connector is now ready to be configure. In the ",(0,r.kt)("strong",{parentName:"p"},"Used Connectors")," panel, you can see that the Connector is highlight in red, showing an alert : ",(0,r.kt)("em",{parentName:"p"},"The authentication accountis not configured on this Connector"),". That means we need to configure it up."),(0,r.kt)("p",null,"To configure it, click on the ",(0,r.kt)("strong",{parentName:"p"},"TMBD")," Connector and open its details. You'll see, in the ",(0,r.kt)("strong",{parentName:"p"},"settings tab")," the part on the authentication saying ",(0,r.kt)("strong",{parentName:"p"},"Authentication not setted yet"),". By clicking on the dropdown, you'll find several actions.",(0,r.kt)("br",{parentName:"p"}),"\n","Select ",(0,r.kt)("strong",{parentName:"p"},'"Create a new authentication account"'),", a modal shows up telling you to give a ",(0,r.kt)("strong",{parentName:"p"},"Label")," to the auth account and an ",(0,r.kt)("strong",{parentName:"p"},"ApiKey"),"."),(0,r.kt)("p",null,"Add a label ",(0,r.kt)("em",{parentName:"p"},'(ex: "TMDB api key")')," and let's retrieve your ApiKey."),(0,r.kt)("h4",{id:"retrieve-tmdb-key"},"Retrieve TMDB key"),(0,r.kt)("p",null,"First you'll have to register to TMDB, go to ",(0,r.kt)("a",{parentName:"p",href:"https://www.themoviedb.org/signup"},"the TMDB signup page")," and fill the form. Then go to ",(0,r.kt)("a",{parentName:"p",href:"https://www.themoviedb.org/settings/api"},"your settings, on the API tab"),".\nThe ",(0,r.kt)("strong",{parentName:"p"},"API Key (v3 auth)")," is the one we are looking for (",(0,r.kt)("em",{parentName:"p"},"see image below"),")\n",(0,r.kt)("img",{alt:"TMDB API Key",src:n(2578).Z})),(0,r.kt)("p",null,"Copy the key then return to Meta-API and paste the key into the ApiKey field (",(0,r.kt)("em",{parentName:"p"},"see image below"),") and click ",(0,r.kt)("strong",{parentName:"p"},'"Save and quit"'),"\n",(0,r.kt)("img",{alt:"TMDB Meta-API authentication",src:n(4543).Z})),(0,r.kt)("p",null,"The authentication account is by default selectionned to the Connector's auth and we're ready to run some test."),(0,r.kt)("p",null,"Run the Spell by clicking the green ",(0,r.kt)("strong",{parentName:"p"},'"Run"')," button. Your dev environment is launching and your Spell is being prepared. Then it will launch a request.",(0,r.kt)("br",{parentName:"p"}),"\n","The tab ",(0,r.kt)("strong",{parentName:"p"},'"Test"')," opens and show you the results in the ",(0,r.kt)("strong",{parentName:"p"},'"Response"')," insert. It should looks like this:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "page": 1,\n  "results": [\n    {\n      "adult": false,\n      "backdrop_path": "/pcDc2WJAYGJTTvRSEIpRZwM3Ola.jpg",\n      "genre_ids": [\n        28,\n        12,\n        14,\n        878\n      ],\n      "id": 791373,\n      "original_language": "en",\n      "original_title": "Zack Snyder\'s Justice League",\n      "overview": "Determined to ensure Superman\'s ultimate sacrifice was not in vain, Bruce Wayne aligns forces with Diana Prince with plans to recruit a team of metahumans to protect the world from an approaching threat of catastrophic proportions.",\n      "popularity": 8052.028,\n      "poster_path": "/tnAuB8q5vv7Ax9UAEje5Xi4BXik.jpg",\n      "release_date": "2021-03-18",\n      "title": "Zack Snyder\'s Justice League",\n      "video": false,\n      "vote_average": 8.6,\n      "vote_count": 4112\n    },\n    ...\n}\n')),(0,r.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"We can play with the return of the object by showing only the first movie and only its name.\nAs return statement you can try this:"),(0,r.kt)("pre",{parentName:"div"},(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"return tmdbResult.results[0].original_title;\n")),(0,r.kt)("p",{parentName:"div"},"Notice that the results are autocompleted directly in the code editor."))),(0,r.kt)("p",null,"We're done with TMDB for now, let's see how is it done for ",(0,r.kt)("strong",{parentName:"p"},"Giphy")," now."),(0,r.kt)("h3",{id:"add-giphy"},"Add GIPHY"),(0,r.kt)("p",null,"Adding a Connector is always the same: "),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},'Click "Add a Connector"'),(0,r.kt)("li",{parentName:"ol"},"Search for and API and click on the right card"),(0,r.kt)("li",{parentName:"ol"},"Looks for a Connector"),(0,r.kt)("li",{parentName:"ol"},"Add it to the Spell")),(0,r.kt)("p",null,"For ",(0,r.kt)("strong",{parentName:"p"},"Giphy"),", we will have to search the API ",(0,r.kt)("strong",{parentName:"p"},"Giphy")," then the ",(0,r.kt)("inlineCode",{parentName:"p"},"GET")," Connector ",(0,r.kt)("strong",{parentName:"p"},"Translate Phrase to Gifs")," (",(0,r.kt)("em",{parentName:"p"},"URL: ",(0,r.kt)("inlineCode",{parentName:"em"},"/gifs/translate")),") and after read the description of the Connector, click on ",(0,r.kt)("strong",{parentName:"p"},'"Add a Connector"'),"."),(0,r.kt)("p",null,"Paste the code in the code editor, between the ",(0,r.kt)("strong",{parentName:"p"},"*TMDB")," Connector",(0,r.kt)("em",{parentName:"p"}," and the "),"return statement*. you should have something as follow:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},'/* Start of TMDB connector */\nconst tmdbResult: Datagetmoviepopular = await connectorService.config("60644d453750c0660ceb5275", {});\n/* End of TMDB connector */\n\n/* Start of Giphy connector */\nconst giphyResult: Datagetgifstranslate = await connectorService.config("60649d5c0524b402e8c9904d", {});\n/* End of Giphy connector */\n\nreturn tmdbResult;\n')),(0,r.kt)("h3",{id:"configure-giphy-authentication"},"Configure GIPHY authentication"),(0,r.kt)("p",null,"As ",(0,r.kt)("strong",{parentName:"p"},"TMDB")," the ",(0,r.kt)("strong",{parentName:"p"},"Giphy")," Connector needs an authentication. Go to the ",(0,r.kt)("a",{parentName:"p",href:"https://giphy.com/join"},"signup page of Giphy")," and create an account. Then head at the ",(0,r.kt)("a",{parentName:"p",href:"https://developers.giphy.com/dashboard/"},"developers programs dashboard"),".",(0,r.kt)("br",{parentName:"p"}),"\n","You'll need to create an app in order to get an API key:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Click ",(0,r.kt)("strong",{parentName:"li"},'"Create an App"')),(0,r.kt)("li",{parentName:"ul"},"Select ",(0,r.kt)("strong",{parentName:"li"},'"Select API"')," then ",(0,r.kt)("strong",{parentName:"li"},'"Next step"')),(0,r.kt)("li",{parentName:"ul"},"Add an App Name (",(0,r.kt)("em",{parentName:"li"},'ex: "Meta-API Test"'),") and a description (",(0,r.kt)("em",{parentName:"li"},'ex: "This app is for the example of Meta-API "A gif from a movie"."'),")"),(0,r.kt)("li",{parentName:"ul"},"Click ",(0,r.kt)("strong",{parentName:"li"},'"Create App"'))),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Giphy API key",src:n(9267).Z})),(0,r.kt)("p",null,"You have now a ",(0,r.kt)("strong",{parentName:"p"},"Giphy")," API key, to use in Meta-API, follow the same instruction as for ",(0,r.kt)("a",{parentName:"p",href:"#configure-tmdb-authentication"},(0,r.kt)("strong",{parentName:"a"},"TMDB")),":"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Click on the Connector"),(0,r.kt)("li",{parentName:"ol"},"Select ",(0,r.kt)("strong",{parentName:"li"},'"Create a new authentication account"')),(0,r.kt)("li",{parentName:"ol"},"Give a ",(0,r.kt)("strong",{parentName:"li"},"label")," and paste the ",(0,r.kt)("strong",{parentName:"li"},"API key"))),(0,r.kt)("h3",{id:"linked-tmdb-and-giphy-retrieve-a-gif-from-the-movies-name"},"Linked TMDB and Giphy: retrieve a Gif from the movie's name"),(0,r.kt)("p",null,"If you look on the left, the Connector for Giphy has an alert who mention a missing a mandatory parameter: ",(0,r.kt)("inlineCode",{parentName:"p"},"s"),". If you open the Connector's details you will see several parameters.",(0,r.kt)("br",{parentName:"p"}),"\n","In order to link ",(0,r.kt)("strong",{parentName:"p"},"TMDB")," and ",(0,r.kt)("strong",{parentName:"p"},"Giphy")," and have a gif associated, we will have to link the title of the first movie returned and the query params ",(0,r.kt)("inlineCode",{parentName:"p"},"s"),".",(0,r.kt)("br",{parentName:"p"}),"\n","We are going to add a new variable in our code to only get the title. The code will be between the ",(0,r.kt)("strong",{parentName:"p"},"TMDB")," Connector and the ",(0,r.kt)("strong",{parentName:"p"},"Giphy")," Connector as follow:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},'/* Start of TMDB connector */\nconst tmdbResult: Datagetmoviepopular = await connectorService.config("60644d453750c0660ceb5275", {});\n/* End of TMDB connector */\n\nconst { original_title } = tmdbResult.results[0];\n\n/* Start of Giphy connector */\nconst giphyResult: Datagetgifstranslate = await connectorService.config("60649d5c0524b402e8c9904d", {});\n/* End of Giphy connector */\n\nreturn tmdbResult;\n')),(0,r.kt)("p",null,"We can now linked the variable ",(0,r.kt)("inlineCode",{parentName:"p"},"original_title")," to the params ",(0,r.kt)("inlineCode",{parentName:"p"},"s"),". In the ",(0,r.kt)("strong",{parentName:"p"},"Giphy")," Connector, you can see on the left of the input of ",(0,r.kt)("inlineCode",{parentName:"p"},"s")," a button with a chain. Click on it and a new block will appears that will allow you to select any variable from your code (",(0,r.kt)("em",{parentName:"p"},"see image below"),"). Select ",(0,r.kt)("inlineCode",{parentName:"p"},"original_title")," and it will link automaticaly.",(0,r.kt)("br",{parentName:"p"}),"\n","After the selection is done, you can see the field is now read-only and has changed: this shows you the linked variable."),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Use variable from code",src:n(5062).Z})),(0,r.kt)("p",null,"Let's change our ",(0,r.kt)("em",{parentName:"p"},"return statement")," to see the ",(0,r.kt)("strong",{parentName:"p"},"Giphy")," result, especially the data object, like this:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"return giphyResult.data;\n")),(0,r.kt)("p",null,"Now, we can ",(0,r.kt)("strong",{parentName:"p"},"Run")," our Spell and see what we'll get:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "type": "gif",\n  "id": "LkSWxLWk3jfZ7Ggnsd",\n  "url": "https://giphy.com/gifs/HBOMax-dc-comics-justice-league-LkSWxLWk3jfZ7Ggnsd",\n  "slug": "HBOMax-dc-comics-justice-league-LkSWxLWk3jfZ7Ggnsd",\n  "bitly_gif_url": "https://gph.is/g/ZxzGPYz",\n  "bitly_url": "https://gph.is/g/ZxzGPYz",\n  "embed_url": "https://giphy.com/embed/LkSWxLWk3jfZ7Ggnsd",\n  "username": "HBOMax",\n  "source": "",\n  "title": "Wonder Woman Batman GIF by HBO Max",\n  "rating": "g",\n  "content_url": "",\n  "source_tld": "",\n  "source_post_url": "",\n  "is_sticker": 0,\n  "import_datetime": "2020-08-23 00:08:23",\n  "trending_datetime": "0000-00-00 00:00:00",\n  "images": {\n    "hd": {\n      "height": "1080",\n      "mp4": "https://media4.giphy.com/media/LkSWxLWk3jfZ7Ggnsd/giphy-hd.mp4?cid=7a9aa6c09a0d6924f5025e1e5f5c61b6c66e59dc453eaafd&rid=giphy-hd.mp4&ct=g",\n      "mp4_size": "4562558",\n      "width": "1080"\n    },\n    "downsized_large": {\n      "height": "480",\n      "size": "4465199",\n      "url": "https://media4.giphy.com/media/LkSWxLWk3jfZ7Ggnsd/giphy.gif?cid=7a9aa6c09a0d6924f5025e1e5f5c61b6c66e59dc453eaafd&rid=giphy.gif&ct=g",\n      "width": "480"\n    },\n    ...\n  }\n}\n')),(0,r.kt)("p",null,"We have now a random gif with several options and differents size of images. That will be handful for the next part: sending the movie information to a ",(0,r.kt)("strong",{parentName:"p"},"Slack")," channel!"),(0,r.kt)("h3",{id:"add-slack"},"Add Slack"),(0,r.kt)("p",null,"Same as ",(0,r.kt)("strong",{parentName:"p"},"TMDB")," and ",(0,r.kt)("strong",{parentName:"p"},"Giphy"),", we're looking for the ",(0,r.kt)("strong",{parentName:"p"},"Slack API")," and for the Connector ",(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("inlineCode",{parentName:"strong"},"/chat.postMessage"))),(0,r.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"Some Connector doesn't have a name but we can still find them through their URL. Also, the search engine looks in the description too."))),(0,r.kt)("p",null,"Copy the code into the editor and we will be able to set up the ",(0,r.kt)("a",{parentName:"p",href:"/docs/connectors/configure-authentication"},"OAuth")," for ",(0,r.kt)("strong",{parentName:"p"},"Slack"),"."),(0,r.kt)("p",null,"So far you should have this in the code editor:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},'/* Start of TMDB connector */\nconst tmdbResult: Datagetmoviepopular = await connectorService.config("60644d453750c0660ceb5275", {});\n/* End of TMDB connector */\n\nconst { original_title } = tmdbResult.results[0];\n\n/* Start of Giphy connector */\nconst giphyResult: Datagetgifstranslate = await connectorService.config("60649d5c0524b402e8c9904d", {});\n/* End of Giphy connector */\n\n/* Start of Slack connector */\nconst slackResult: Datapostchatpostmessage = await connectorService.config("6065847ca27fa1c947ff016d", {});\n/* End of Slack connector */\n\nreturn giphyResult.data;\n')),(0,r.kt)("h3",{id:"configure-slack-oauth-authentication"},"Configure Slack OAuth authentication"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Slack")," is sightly different than other authentication: we will use ",(0,r.kt)("a",{parentName:"p",href:"https://oauth.net/2/"},"OAuth"),".",(0,r.kt)("br",{parentName:"p"}),"\n","Open the ",(0,r.kt)("strong",{parentName:"p"},"Slack")," Connector's detail panel, click on the dropdown under ",(0,r.kt)("strong",{parentName:"p"},"Authentication")," then select ",(0,r.kt)("strong",{parentName:"p"},'"Create a new authentication account"'),".",(0,r.kt)("br",{parentName:"p"}),"\n","You'll notice a different modal, you'll have to configure the authentication within ",(0,r.kt)("strong",{parentName:"p"},"Meta-API")," and ",(0,r.kt)("strong",{parentName:"p"},"Slack"),". follow this step-by-step to understand how to set up the OAuth:"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Add a Label to the Slack authentication (",(0,r.kt)("em",{parentName:"p"},"ex: Slack auth"),")")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Retrieve ",(0,r.kt)("strong",{parentName:"p"},"redirects URL")," for OAuth"))),(0,r.kt)("p",null,"As OAuth will contact a server to made the authentication, we provide you a unique URL to this auth.",(0,r.kt)("br",{parentName:"p"}),"\n","By clicking ",(0,r.kt)("strong",{parentName:"p"},'"Click here to get your personalized link"')," button, you will be prompt a URL like this, where ",(0,r.kt)("inlineCode",{parentName:"p"},"client_id")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"connector_id")," are your own id:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"https://api.meta-api.io/api/oauth/connect/{client_id}-{connector_id}/callback\n")),(0,r.kt)("p",null,"You can copy this link, we will need it later, after we create our Slack App."),(0,r.kt)("ol",{start:3},(0,r.kt)("li",{parentName:"ol"},"Create a Slack App")),(0,r.kt)("p",null,"You will have to create a new app in ",(0,r.kt)("strong",{parentName:"p"},"Slack"),", go to the ",(0,r.kt)("a",{parentName:"p",href:"https://api.slack.com/apps/"},(0,r.kt)("strong",{parentName:"a"},"Slack app directory"))," of your ",(0,r.kt)("strong",{parentName:"p"},"Slack")," and click on ",(0,r.kt)("strong",{parentName:"p"},'"Create New App"'),". Give the App a name (",(0,r.kt)("em",{parentName:"p"},"ex: Meta-API Test"),") and select your workspace.\n",(0,r.kt)("img",{alt:"Create App Slack",src:n(5661).Z}),"\nNow we will configure it."),(0,r.kt)("ol",{start:4},(0,r.kt)("li",{parentName:"ol"},"Configure the Slack App")),(0,r.kt)("p",null,"Open your new App and go to ",(0,r.kt)("strong",{parentName:"p"},'"OAuth & Permissions"')," and add the URL we copied few minutes ago and ",(0,r.kt)("strong",{parentName:"p"},'"Save URLs"'),". You should have something looking like this:"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Slack Redirect URLs",src:n(2488).Z})),(0,r.kt)("p",null,"Now return to ",(0,r.kt)("strong",{parentName:"p"},'"Basic Information"')," where you'll find a part name ",(0,r.kt)("strong",{parentName:"p"},"App Credentials")," (",(0,r.kt)("em",{parentName:"p"},"see image below"),"). This is where you'll the ",(0,r.kt)("inlineCode",{parentName:"p"},"Client ID")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"Client Secret")," we need for Meta-API."),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Slack App Credential",src:n(691).Z})),(0,r.kt)("p",null,"Copy and paste the ",(0,r.kt)("inlineCode",{parentName:"p"},"Client ID")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"Client Secret")," in the authentication modal of Meta-API (",(0,r.kt)("em",{parentName:"p"},"see image below"),") and select the permission ",(0,r.kt)("inlineCode",{parentName:"p"},"chat:write:user")," in ",(0,r.kt)("strong",{parentName:"p"},'"Permission needed"'),". Leave the ",(0,r.kt)("inlineCode",{parentName:"p"},"scope delimiter")," empty, ",(0,r.kt)("strong",{parentName:"p"},"Slack")," doesn't need it."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Save")," the authentication."),(0,r.kt)("div",{className:"admonition admonition-danger alert alert--danger"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"}))),"danger")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},(0,r.kt)("strong",{parentName:"p"},'Do not "Save and quit" for now as we need to authorize the application.'),(0,r.kt)("br",{parentName:"p"}),"\n","In case you quit this window, you can return to the ",(0,r.kt)("strong",{parentName:"p"},'"Connectors Authentication"')," on the menu on the right and ",(0,r.kt)("strong",{parentName:"p"},"edit")," the previously created ",(0,r.kt)("strong",{parentName:"p"},"Slack")," auth."))),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Meta-API Slack auth modal",src:n(1726).Z})),(0,r.kt)("ol",{start:5},(0,r.kt)("li",{parentName:"ol"},"Authorize the application")),(0,r.kt)("p",null,"Now, click on ",(0,r.kt)("strong",{parentName:"p"},'"Authorize"')," and follow the instructions that appears."),(0,r.kt)("ol",{start:6},(0,r.kt)("li",{parentName:"ol"},"Save and quit")),(0,r.kt)("p",null,"Et voil\xe0! You're done. You have successfully configure the OAuth for Slack.\nLet's select your new auth for ",(0,r.kt)("strong",{parentName:"p"},"Slack")," and an ",(0,r.kt)("strong",{parentName:"p"},"OAuth Profile"),".\n",(0,r.kt)("img",{alt:"OAuth profile for Slack",src:n(9449).Z})),(0,r.kt)("h3",{id:"linked-slack-to-the-spell-send-gif-and-movies-information-to-a-slack-channel"},"Linked Slack to the Spell: send gif and movie's information to a Slack channel"),(0,r.kt)("p",null,"Everything is set up, now we want to send our movie and gif to a ",(0,r.kt)("strong",{parentName:"p"},"Slack")," channel.",(0,r.kt)("br",{parentName:"p"}),"\n","For this, we will have to prepare our text in a variable and pass it through a variable.\nTo do this, we can use the ",(0,r.kt)("a",{parentName:"p",href:"https://app.slack.com/block-kit-builder/"},(0,r.kt)("strong",{parentName:"a"},"Slack Block Kit Builder"))," and get the JSON array needed."),(0,r.kt)("p",null,"To help you, here is an extract of code:"),(0,r.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"For convenience, we extract the movie poster, the vote average and the gif URL.\nAll these info are on the code below."),(0,r.kt)("p",{parentName:"div"},"Paste this code after the ",(0,r.kt)("strong",{parentName:"p"},"Giphy")," Connector and before the ",(0,r.kt)("strong",{parentName:"p"},"Slack")," Connector."))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'const { vote_average, poster_path } = tmdbResult.results[0];\n\nconst gifUrl = giphyResult.data.images.downsized_large.url;\n\n// Format poster image to be 500px wide.\nconst poster = `https://image.tmdb.org/t/p/w500/${poster_path}`;\n\nconst slackBlocks = [\n    {\n        "type": "section",\n        "text": {\n            "type": "mrkdwn",\n            "text": `*${original_title}*\\n${vote_average} / 10`\n        },\n        "accessory": {\n            "type": "image",\n            "image_url": poster,\n            "alt_text": `${original_title} poster`\n        }\n    },\n    {\n        "type": "image",\n        "title": {\n            "type": "plain_text",\n            "text": `A nice gif for ${original_title}`,\n            "emoji": true\n        },\n        "image_url": gifUrl,\n        "alt_text": "marg"\n    }\n];\n\nconst encodedBlocks = JSON.stringify(slackBlocks);\n')),(0,r.kt)("p",null,"Now in the ",(0,r.kt)("strong",{parentName:"p"},"Slack")," Connector's detail panel, we will link the input ",(0,r.kt)("inlineCode",{parentName:"p"},"blocks")," to ",(0,r.kt)("inlineCode",{parentName:"p"},"encodedBlocks")," and put in ",(0,r.kt)("inlineCode",{parentName:"p"},"channel")," a test channel like ",(0,r.kt)("strong",{parentName:"p"},'"meta-api-test"'),", you should create it first. (",(0,r.kt)("em",{parentName:"p"},"see image below"),")"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Configure Slack Connector",src:n(3417).Z})),(0,r.kt)("p",null,"Save and Run your Spell: you should see in ",(0,r.kt)("strong",{parentName:"p"},"Slack")," the movie and the associated gif.\n",(0,r.kt)("img",{alt:"Slack result",src:n(2743).Z})),(0,r.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"Here is the code should obtain at the end of the tutorial:"),(0,r.kt)("pre",{parentName:"div"},(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},'/* Start of TMDB connector */\nconst tmdbResult: Datagetmoviepopular = await connectorService.config("60644d453750c0660ceb5275", {});\n/* End of TMDB connector */\n\nconst { original_title } = tmdbResult.results[0];\n\n/* Start of Giphy connector */\nconst giphyResult: Datagetgifstranslate = await connectorService.config("60649d5c0524b402e8c9904d", {});\n/* End of Giphy connector */\n\nconst { vote_average, poster_path } = tmdbResult.results[0];\n\nconst gifUrl = giphyResult.data.images.downsized_large.url;\n\n// Format poster image to be 500px wide.\nconst poster = `https://image.tmdb.org/t/p/w500/${poster_path}`;\n\nconst slackBlocks = [\n    {\n        "type": "section",\n        "text": {\n            "type": "mrkdwn",\n            "text": `*${original_title}*\\n${vote_average} / 10`\n        },\n        "accessory": {\n            "type": "image",\n            "image_url": poster,\n            "alt_text": `${original_title} poster`\n        }\n    },\n    {\n        "type": "image",\n        "title": {\n            "type": "plain_text",\n            "text": `A nice gif for ${original_title}`,\n            "emoji": true\n        },\n        "image_url": gifUrl,\n        "alt_text": "marg"\n    }\n];\n\nconst encodedBlocks = JSON.stringify(slackBlocks);\n\n/* Start of Slack connector */\nconst slackResult: Datapostchatpostmessage = await connectorService.config("6065847ca27fa1c947ff016d", {});\n/* End of Slack connector */\n\nreturn { success: true };\n')))),(0,r.kt)("h2",{id:"deploy-your-spell-in-production"},"Deploy your Spell in production"),(0,r.kt)("p",null,"Everything is working, now we want to deploy our Spell in production. To do that, heads up to the ",(0,r.kt)("strong",{parentName:"p"},'"Releases panel"')),(0,r.kt)("p",null,"There, you can see a development version. We will create our first release to production from this point: Click on the ",(0,r.kt)("strong",{parentName:"p"},'"Draft a new release"')," button and fill the form (",(0,r.kt)("em",{parentName:"p"},"ex: title:")," ",(0,r.kt)("inlineCode",{parentName:"p"},"v1.0")," ",(0,r.kt)("em",{parentName:"p"},"description:")," ",(0,r.kt)("inlineCode",{parentName:"p"},"First release of the tutorial. Connect TMDB, Giphy and Slack together."),")"),(0,r.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"The release will save the curretn state of your Spell and Connectors and create an image of it. You can edit totally your Spell, it won't affect the previous releases."))),(0,r.kt)("p",null,"A new card appears with a ",(0,r.kt)("strong",{parentName:"p"},'"Promote to production"')," button. Click on it and the release will be automaticaly deployed to your productiion environment. When the loader has finished, your Spell is publicly accessible through your default Meta-API key (we'll see how to restrict a Spell in the next step)."),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Release tabs of Meta-API",src:n(3003).Z})),(0,r.kt)("h4",{id:"get-and-test-the-url-of-the-spell"},"Get and test the URL of the Spell"),(0,r.kt)("p",null,"In the top of the ",(0,r.kt)("strong",{parentName:"p"},"Release panel"),", you can see a part named ",(0,r.kt)("strong",{parentName:"p"},'"Snippets and Urls'),". There yoou will have the production URL to call your Spell and even test it on your browser directly. It will also give you some ",(0,r.kt)("strong",{parentName:"p"},"code snippets")," to integrate the Spell into your own application.",(0,r.kt)("br",{parentName:"p"}),"\n","Open it and look inside, here what you'll get:\n",(0,r.kt)("img",{alt:"Snippets and URLS tab",src:n(1905).Z})),(0,r.kt)("p",null,"At the bottom, if you click on ",(0,r.kt)("strong",{parentName:"p"},'"Click here to test the request in a new page"')," it will open a new window and execute your Spell.",(0,r.kt)("br",{parentName:"p"}),"\n","Be careful to have a Spell's key selected."),(0,r.kt)("h2",{id:"restrict-access-to-your-spell"},"Restrict access to your Spell"),(0,r.kt)("p",null,"We've got our Spell running and in production, now we would like to have some restriction to it and put specific access.",(0,r.kt)("br",{parentName:"p"}),"\n","In the ",(0,r.kt)("strong",{parentName:"p"},'"Snippets and Urls"')," tab, click on ",(0,r.kt)("strong",{parentName:"p"},'"Access your API keys"'),". It will redirect you on your client account and you'll see your keys set up for your account."),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Meta-API&#39;s keys",src:n(2775).Z})),(0,r.kt)("p",null,"Add a new key by clicking the ",(0,r.kt)("strong",{parentName:"p"},'"Add new API Key"')," button, a new card will be added to your keys. Give it a name and notice the section ",(0,r.kt)("strong",{parentName:"p"},'"Restrict this key to these Spells:'),".",(0,r.kt)("br",{parentName:"p"}),"\n","This section will authorized this key for only the Spells selected (note that if there is no Spells selected, the key is available for all of your Spell).",(0,r.kt)("br",{parentName:"p"}),"\n","Select the Spell ",(0,r.kt)("inlineCode",{parentName:"p"},"A gif from a movie")," and ",(0,r.kt)("strong",{parentName:"p"},"save")," your key. You should get this:\n",(0,r.kt)("img",{alt:"API Key restricted",src:n(3398).Z})),(0,r.kt)("p",null,"Now this key is only active for the Spell ",(0,r.kt)("inlineCode",{parentName:"p"},"A gif from a movie")," and if you give that key, no-one can access your others Spells.",(0,r.kt)("br",{parentName:"p"}),"\n","Also, you can revoke and a key whenever you want. You can deactivate key, too."),(0,r.kt)("h2",{id:"be-creative"},"Be creative!"),(0,r.kt)("p",null,"This was just a preview of Meta-API and a simple step-by-step tutorial to help you get the hand of the platform."),(0,r.kt)("p",null,"You can improve (and we'll be happy to see) the Spell with your only imagination.",(0,r.kt)("br",{parentName:"p"}),"\n","But here are some improvments:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Pick a random movie from ",(0,r.kt)("strong",{parentName:"li"},"TMDB")),(0,r.kt)("li",{parentName:"ul"},"Use ",(0,r.kt)("inlineCode",{parentName:"li"},"/search/gifs")," of ",(0,r.kt)("strong",{parentName:"li"},"Giphy")," to get multiple gifs and pick one gif random"),(0,r.kt)("li",{parentName:"ul"},"Filter the movie from a specific category or with a min (or max) vote average"),(0,r.kt)("li",{parentName:"ul"},"...")),(0,r.kt)("p",null,"If you have any question or suggestion on this tutorial, please contact us at: contact","[at]","meta-api.io or ping us on our chat \u263a\ufe0f"))}d.isMDXComponent=!0},9267:function(e,t,n){t.Z=n.p+"assets/images/Giphy-api-key-03bb0cbf7462e037b00ea4d4f34e2cac.png"},2578:function(e,t,n){t.Z=n.p+"assets/images/TMDB-api-key-9a15fe9d5237436f38e5eca302faba70.png"},4543:function(e,t,n){t.Z=n.p+"assets/images/TMDB-meta-api-auth-5095b069dc167a1f1d318041bd363f9e.png"},2775:function(e,t,n){t.Z=n.p+"assets/images/access-keys-6abbb3781916d77249db1df165a35cd1.png"},5661:function(e,t,n){t.Z=n.p+"assets/images/create-app-slack-1ecb8ad308c303ae211cd8ef65817e98.png"},1905:function(e,t,n){t.Z=n.p+"assets/images/meta-api-snippets-urls-d463b23da62f469e451a10829216578f.png"},3398:function(e,t,n){t.Z=n.p+"assets/images/new-access-key-3327c7053a7884a4e18962d8a826ee73.png"},8948:function(e,t,n){t.Z=n.p+"assets/images/new-spell-anatomy-e120ee59227c8362ccfc7e46401d28fa.png"},3003:function(e,t,n){t.Z=n.p+"assets/images/release-tabs-7b70a0ddf666cf6e6965f651eeea67d2.png"},2743:function(e,t,n){t.Z=n.p+"assets/images/result-slack-tuto-a7b1558fc8bc0002ebe1c36d4c561e90.png"},691:function(e,t,n){t.Z=n.p+"assets/images/slack-app-credential-ed4038ea46f5a1c01e4f65e88c8a5b9b.png"},1726:function(e,t,n){t.Z=n.p+"assets/images/slack-auth-meta-api-eaa4369119b901093cb617a548712c23.png"},9449:function(e,t,n){t.Z=n.p+"assets/images/slack-meta-api-oauth-profile-50d0bc7b3d9f6d2aa3e64f999e210fb4.png"},3417:function(e,t,n){t.Z=n.p+"assets/images/slack-meta-api-send-block-ad21dab4c580856658903ae71db4bf99.png"},2488:function(e,t,n){t.Z=n.p+"assets/images/slack-redirect-urls-b8daeabd88e8757fa7b721c90ee6dae9.png"},5062:function(e,t,n){t.Z=n.p+"assets/images/use-variable-f0097cbe878cdaf8c9b95de9ea99b957.png"}}]);