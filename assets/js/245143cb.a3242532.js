"use strict";(self.webpackChunkmeta_api_docs=self.webpackChunkmeta_api_docs||[]).push([[6],{3905:function(e,t,n){n.d(t,{Zo:function(){return s},kt:function(){return f}});var o=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){if(null==e)return{};var n,o,a=function(e,t){if(null==e)return{};var n,o,a={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var u=o.createContext({}),l=function(e){var t=o.useContext(u),n=t;return e&&(n="function"==typeof e?e(t):r(r({},t),e)),n},s=function(e){var t=l(e.components);return o.createElement(u.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},h=o.forwardRef((function(e,t){var n=e.components,a=e.mdxType,i=e.originalType,u=e.parentName,s=c(e,["components","mdxType","originalType","parentName"]),h=l(n),f=a,d=h["".concat(u,".").concat(f)]||h[f]||p[f]||i;return n?o.createElement(d,r(r({ref:t},s),{},{components:n})):o.createElement(d,r({ref:t},s))}));function f(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=n.length,r=new Array(i);r[0]=h;var c={};for(var u in t)hasOwnProperty.call(t,u)&&(c[u]=t[u]);c.originalType=e,c.mdxType="string"==typeof e?e:a,r[1]=c;for(var l=2;l<i;l++)r[l]=n[l];return o.createElement.apply(null,r)}return o.createElement.apply(null,n)}h.displayName="MDXCreateElement"},7831:function(e,t,n){n.r(t),n.d(t,{assets:function(){return s},contentTitle:function(){return u},default:function(){return f},frontMatter:function(){return c},metadata:function(){return l},toc:function(){return p}});var o=n(7462),a=n(3366),i=(n(7294),n(3905)),r=["components"],c={id:"configure-authentication",title:"Configure Connectors' authentication"},u=void 0,l={unversionedId:"authentication/configure-authentication",id:"authentication/configure-authentication",title:"Configure Connectors' authentication",description:"Overview",source:"@site/docs/authentication/1-configure-authentication.md",sourceDirName:"authentication",slug:"/authentication/configure-authentication",permalink:"/docs/authentication/configure-authentication",tags:[],version:"current",sidebarPosition:1,frontMatter:{id:"configure-authentication",title:"Configure Connectors' authentication"},sidebar:"mySidebar",previous:{title:"Connect your Spell to databases",permalink:"/docs/connectors/connect-to-databases"},next:{title:"OAuth for end users",permalink:"/docs/authentication/oauth-public"}},s={},p=[{value:"Overview",id:"overview",level:2},{value:"One Click Authentication",id:"one-click-authentication",level:2},{value:"Basic authentification",id:"basic-authentification",level:2},{value:"Token Authentification",id:"token-authentification",level:2},{value:"OAuth Authentification",id:"oauth-authentification",level:2},{value:"Advance configuration for OAuth2 Refresh",id:"advance-configuration-for-oauth2-refresh",level:3},{value:"Known settings on provider",id:"known-settings-on-provider",level:3}],h={toc:p};function f(e){var t=e.components,c=(0,a.Z)(e,r);return(0,i.kt)("wrapper",(0,o.Z)({},h,c,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h2",{id:"overview"},"Overview"),(0,i.kt)("p",null,"There are several ways to identify with an API: "),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Basic authentication, you don't need to authenticate yourself. "),(0,i.kt)("li",{parentName:"ul"},"Authentication via a token, you need a key provided by the API and integrated in the connector configurations. "),(0,i.kt)("li",{parentName:"ul"},"OAuth authentication, a stricter configuration is required by the API to provide several parameters.")),(0,i.kt)("h2",{id:"one-click-authentication"},"One Click Authentication"),(0,i.kt)("p",null,"For some APIs, we provide a one click authentication."),(0,i.kt)("p",null,"If available, you'll see a ",(0,i.kt)("strong",{parentName:"p"},(0,i.kt)("inlineCode",{parentName:"strong"},"One Click")," button")," inside the connector"),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"One Click Auth Button inside the Wizard",src:n(9040).Z,width:"959",height:"642"})),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"One Click Auth Button",src:n(4816).Z,width:"1441",height:"904"})," "),(0,i.kt)("p",null,"You just have to click on it to start an automatic OAuth 2 authentication and your profile will be automatically added to your connector."),(0,i.kt)("h2",{id:"basic-authentification"},"Basic authentification"),(0,i.kt)("p",null,"You don't have to give any parameters, you can use the API without any problem ! "),(0,i.kt)("h2",{id:"token-authentification"},"Token Authentification"),(0,i.kt)("p",null,"For Token authentication you need a key provided by the API provider, here is an ",(0,i.kt)("a",{parentName:"p",href:"https://docs.meta-api.io/docs/getting-started/example-hello-world#configure-tmdb-authentication"},"example where we get a key for the TMDB API"),".\nAfter retrieving the api key, we create a new authentication account in which we integrate the API key of the connector. "),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"Create authentification account",src:n(2268).Z,width:"650",height:"577"})," "),(0,i.kt)("h2",{id:"oauth-authentification"},"OAuth Authentification"),(0,i.kt)("p",null,"OAuth authentication is different because it requires more parameters to be filled in, but its configuration is similar to that of Token authentication. An example is available in the ",(0,i.kt)("a",{parentName:"p",href:"https://docs.meta-api.io/docs/getting-started/example-hello-world/#configure-slack-oauth-authentication"},"Slack API integration"),".\nAs for the authentication by token one creates a new account of authentification and one fills the fields necessary to the configuration of the account. "),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"Create authentification account",src:n(5236).Z,width:"933",height:"745"})," "),(0,i.kt)("h3",{id:"advance-configuration-for-oauth2-refresh"},"Advance configuration for OAuth2 Refresh"),(0,i.kt)("p",null,"You can add this custom object inside a OAuth2 ",(0,i.kt)("inlineCode",{parentName:"p"},"flows")," object to add settings : "),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json"},'"X-Refresh-Settings": {\n    "Content-Type": "application/x-www-form-urlencoded",\n    "defaultExpireSec": 120\n}\n')),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Some APIs only support a ",(0,i.kt)("strong",{parentName:"li"},"form")," as a Content-Type"),(0,i.kt)("li",{parentName:"ul"},"You can force the expiration delay of a token with ",(0,i.kt)("strong",{parentName:"li"},"defaultExpireSec")," setting")),(0,i.kt)("p",null,"Here a full example with Salesforce: "),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json"},'"securitySchemes": {\n    "oauth2": {\n    "type": "oauth2",\n    "flows": {\n        "authorizationCode": {\n        "authorizationUrl": "https://server.my.salesforce.com/services/oauth2/authorize",\n        "tokenUrl": "https://server.my.salesforce.com/services/oauth2/token",\n        "scopes": {\n            "offline_access": "To get a refresh token",\n            "full": "Full Access to any APIs",\n            "openid": "Allows access to the current, logged in user\u2019s unique identifier for OpenID Connect apps. In the OAuth 2.0 user-agent flow and the OAuth 2.0 web server flow, use the openid scope. In addition to the access token, this scope enables you to receive a signed ID token that conforms to the OpenID Connect specifications.",\n            "lightning": "Allows hybrid apps to directly obtain Lightning child sessions through the OAuth 2.0 hybrid app token flow and hybrid app refresh token flow.",\n            "content": "Access content ressources",\n            "api": "Manage user data via API"\n        },\n        "refreshUrl": "https://server.my.salesforce.com/services/oauth2/token",\n        "X-Refresh-Settings": {\n            "Content-Type": "application/x-www-form-urlencoded",\n            "defaultExpireSec": 120\n        }\n        }\n    }\n    }\n}\n')),(0,i.kt)("h3",{id:"known-settings-on-provider"},"Known settings on provider"),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Google APIs"),":"),(0,i.kt)("p",null,"You must add two additionnal parameters on Google's API for enable the ",(0,i.kt)("inlineCode",{parentName:"p"},"refresh_token")," and force changes if you want to add your own profile : "),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"access_type: offline\nprompt: consent\n")),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Salesforce APIs"),":"),(0,i.kt)("p",null,"Salesforce's Identity Provider don't provide an expiration time on their OAuth tokens. So you can force the delay with this parameters inside the ",(0,i.kt)("inlineCode",{parentName:"p"},"flows")," OAuth's config. You must also force the use of a ",(0,i.kt)("inlineCode",{parentName:"p"},"form")," over a JSON object."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json"},'"X-Refresh-Settings": {\n    "Content-Type": "application/x-www-form-urlencoded",\n    "defaultExpireSec": 120\n}\n')),(0,i.kt)("p",null,"You'll find a full example above."))}f.isMDXComponent=!0},5236:function(e,t,n){t.Z=n.p+"assets/images/authentification_Oauth-90cd6fb3303e182c4b126124a591195c.png"},2268:function(e,t,n){t.Z=n.p+"assets/images/create_authentification_account-4be7d426de444bb079e4107f2f6ba047.png"},9040:function(e,t,n){t.Z=n.p+"assets/images/one-click-auth-button-wizard-9130b57aacce3e65c75ae82ce65850a9.png"},4816:function(e,t,n){t.Z=n.p+"assets/images/one-click-auth-button-8c1cb85b9a781458f1207aa705686699.png"}}]);